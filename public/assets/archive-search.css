@font-face {
  font-family: "Neue Haas Unica W1G";
  src: url("./assets/fonts/NeueHaasUnicaW1G-Regular.woff2") format("woff2");
  font-weight: 400; font-style: normal; font-display: swap;
}

:root {
  --ui-border: #D9D9D9;
  --ui-text: #2C2C2C;
  --ui-bg: #fff;

  --ui-active-border: #7EBB1C;
  --ui-active-bg: rgba(162,230,51,0.05);

  --motion-ms: 300ms;
  --ease-smooth: cubic-bezier(0.4, 0, 0.2, 1);

  --btn-dark: #2C2C2C;
  --btn-gray: #9C9C9C;
  --btn-gray-bg: #F0F0F0;
  --btn-white: #FFFFFF;
}

* { box-sizing: border-box; }
html, body { height: 100%; margin: 0; }

body {
  background: #fff;
  font-family: "Neue Haas Unica W1G", system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  color: var(--ui-text);
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  padding: 24px;
}

.search-section { width: 100%; max-width: 1440px; position: relative; }
.search-container { margin-bottom: 0; display: flex; justify-content: flex-start; position: relative; z-index: 200; }

/* Search Field */
.ui-search { display: inline-flex; align-items: stretch; gap: 0; width: 100%; margin: 0 auto; position: relative; }
.ui-search-key {
  display: inline-flex; padding: 12px 16px; align-items: center; gap: 6px; flex-shrink: 0;
  border-radius: 6px 0 0 0; border-top: 1px solid var(--ui-border); border-bottom: 1px solid var(--ui-border);
  border-right: none; border-left: 1px solid var(--ui-border); background: var(--btn-gray-bg); color: var(--ui-text);
  transition: background var(--motion-ms) var(--ease-smooth), border-color var(--motion-ms) var(--ease-smooth);
  height: 56px;
}
.ui-search-key .ui-icon{
  width:16px; height:16px; background-color: currentColor;
  -webkit-mask: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3e%3ccircle cx='11' cy='11' r='8'/%3e%3cpath d='m21 21-4.35-4.35'/%3e%3c/svg%3e") center / contain no-repeat;
  mask: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3e%3ccircle cx='11' cy='11' r='8'/%3e%3cpath d='m21 21-4.35-4.35'/%3e%3c/svg%3e") center / contain no-repeat;
}
.ui-search-key .ui-text{ font-size:16px; line-height:16px; font-weight:400; }

.ui-search-field {
  position: relative; display:flex; flex:1 1 auto; min-width:0; height:100%; padding:0; align-items:center;
  border-radius:0 6px 0 0; border:1px solid var(--ui-border); border-left:1px solid var(--ui-border); background:#FFF;
  transition: background var(--motion-ms) var(--ease-smooth), border-color var(--motion-ms) var(--ease-smooth);
  height: 56px;
}
.ui-search-field input{
  appearance:none; border:0; outline:0; background:transparent; width:100%;
  padding:16px 20px; color:var(--ui-text); font: inherit; font-size: 16px;
}
.ui-search-field input::placeholder{ color:#838383; }

/* Hide native clear */
.ui-search-field input[type="search"]::-webkit-search-cancel-button{ -webkit-appearance: none; appearance: none; display: none; }
.ui-search-field input[type="search"]::-webkit-search-decoration{ display:none; }
.ui-search-field input[type="search"]::-ms-clear, .ui-search-field input[type="search"]::-ms-reveal{ display:none; }

/* custom clear */
.ui-search-clear{
  position: absolute; right: 12px; top: 50%; transform: translateY(-50%);
  width: 24px; height: 24px; border: 1px solid var(--ui-border); border-radius: 6px; background: var(--ui-bg);
  display: none; align-items: center; justify-content: center; cursor: pointer;
  transition: background var(--motion-ms) var(--ease-smooth), border-color var(--motion-ms) var(--ease-smooth);
}
.ui-search-field.has-value .ui-search-clear{ display: inline-flex; }
.ui-search-clear .ui-icon{
  width: 12px; height: 12px; background-color: var(--ui-text);
  -webkit-mask: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3e%3cpath d='M18 6L6 18M6 6l12 12'/%3e%3c/svg%3e") center / contain no-repeat;
  mask: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3e%3cpath d='M18 6L6 18M6 6l12 12'/%3e%3c/svg%3e") center / contain no-repeat;
}
.ui-search-clear:hover{ background: var(--ui-active-bg); }

/* Search dropdown */
.search-dropdown {
  position: absolute; top: 100%; left: 0; right: 0; background: var(--btn-white);
  border: 1px solid var(--ui-border); border-top: none; border-radius: 0 0 6px 6px;
  max-height: 300px; overflow-y: auto; z-index: 400; opacity: 0; visibility: hidden; transform: translateY(-10px);
  transition: opacity var(--motion-ms) var(--ease-smooth), visibility var(--motion-ms) var(--ease-smooth), transform var(--motion-ms) var(--ease-smooth);
  scrollbar-width: none; -ms-overflow-style: none; overscroll-behavior: contain; min-height: 46px;
}
.search-dropdown::-webkit-scrollbar { width: 0; height: 0; }
.search-dropdown.active { opacity: 1; visibility: visible; transform: translateY(0); }

.search-dropdown-item {
  padding: 12px 16px; cursor: pointer;
  transition: background var(--motion-ms) var(--ease-smooth);
  border-bottom: 1px solid rgba(217, 217, 217, 0.3);
  color: var(--ui-text); font-size: 14px;
}
.search-dropdown-item:last-child { border-bottom: none; }
.search-dropdown-item:hover { background: var(--ui-active-bg); }
.search-dropdown-item.selected { background: rgba(162,230,51,0.1); }

.ui-search.searching .ui-search-key{
  background: var(--ui-active-bg); border-color: var(--ui-active-border); border-bottom-left-radius: 0;
}
.ui-search.searching .ui-search-field {
  background: rgba(162,230,51,0.25); border-color: var(--ui-active-border);
  border-radius: 0 6px 0 0; border-bottom-right-radius: 0; border-bottom-color: transparent;
}
.ui-search.searching .search-dropdown { border-color: var(--ui-border); border-top: none; }

.ui-search:hover .ui-search-key{ background: var(--ui-active-bg); border-color: var(--ui-active-border); }
.ui-search:hover .ui-search-field{ background: var(--ui-active-bg); border-color: var(--ui-active-border); }
.ui-search:focus-within .ui-search-key{ background: var(--ui-active-bg); border-color: var(--ui-active-border); }
.ui-search:focus-within .ui-search-field{ background: rgba(162,230,51,0.25); border-color: var(--ui-active-border); }

/* Filter Section */
.filter-section {
  width: 100%; position: relative; z-index: 1; opacity: 1; transform: translateY(0);
  overflow: visible; transition: opacity var(--motion-ms) var(--ease-smooth), transform var(--motion-ms) var(--ease-smooth), visibility var(--motion-ms) var(--ease-smooth);
  will-change: opacity, transform;
}

/* While search dropdown is visible */
/* Keep filter controls visible and clickable even when search is open */
.search-section.search-open .filter-section {
  opacity: 1; visibility: visible; transform: none; pointer-events: auto; z-index: 2;
}

.filter-header {
  display: flex; align-items: center; justify-content: space-between;
  width: 100%; padding: 6px 12px; background: var(--btn-white);
  border: 1px solid var(--ui-border);
  border-top: 1px solid transparent;
  border-radius: 0;
  cursor: pointer;
  transition: background var(--motion-ms) var(--ease-smooth), border-color var(--motion-ms) var(--ease-smooth);
  position: relative; z-index: 1;
}
.filter-header-content { display: flex; align-items: center; gap: 12px; }
.filter-title { font-size: 14px; font-weight: 500; color: var(--ui-text); }
.filter-count { background: transparent; color: var(--btn-gray); border: 1px solid var(--btn-gray); font-size: 10px; font-weight: 500; padding: 4px 8px; border-radius: 12px; }

.filter-controls { display: flex; align-items: center; gap: 8px; }
.control-btn {
  display: flex; align-items: center; justify-content: center; gap: 6px;
  padding: 8px 12px; background: var(--btn-white);
  border: 1px solid var(--ui-border); border-radius: 6px;
  font-size: 12px; font-weight: 500; color: #6E6E6E; cursor: pointer;
  transition: all var(--motion-ms) var(--ease-smooth);
  min-width: 32px; height: 32px; font-family: inherit;
}
.control-btn:hover { background: var(--btn-gray-bg); }
.control-btn.active { background: var(--btn-dark); border-color: var(--btn-dark); color: var(--btn-white); }

.control-icon { width: 14px; height: 14px; background-color: currentColor; }
.grid-icon {
  -webkit-mask: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3e%3crect x='3' y='3' width='7' height='7'/%3e%3crect x='14' y='3' width='7' height='7'/%3e%3crect x='14' y='14' width='7' height='7'/%3e%3crect x='3' y='14' width='7' height='7'/%3e%3c/svg%3e") center / contain no-repeat;
  mask: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3e%3crect x='3' y='3' width='7' height='7'/%3e%3crect x='14' y='3' width='7' height='7'/%3e%3crect x='14' y='14' width='7' height='7'/%3e%3crect x='3' y='14' width='7' height='7'/%3e%3c/svg%3e") center / contain no-repeat;
}
.list-icon {
  -webkit-mask: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3e%3cline x1='8' y1='6' x2='21' y2='6'/%3e%3cline x1='8' y1='12' x2='21' y2='12'/%3e%3cline x1='8' y1='18' x2='21' y2='18'/%3e%3cline x1='3' y1='6' x2='3.01' y2='6'/%3e%3cline x1='3' y1='12' x2='3.01' y2='12'/%3e%3cline x1='3' y1='18' x2='3.01' y2='18'/%3e%3c/svg%3e") center / contain no-repeat;
  mask: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3e%3cline x1='8' y1='6' x2='21' y2='6'/%3e%3cline x1='8' y1='12' x2='21' y2='12'/%3e%3cline x1='8' y1='18' x2='21' y2='18'/%3e%3cline x1='3' y1='6' x2='3.01' y2='6'/%3e%3cline x1='3' y1='12' x2='3.01' y2='12'/%3e%3cline x1='3' y1='18' x2='3.01' y2='18'/%3e%3c/svg%3e") center / contain no-repeat;
}

.filter-content {
  width: 100%; background: var(--btn-white); border: 1px solid var(--ui-border);
  border-top: none; border-radius: 0 0 6px 6px; max-height: 300px; overflow-y: auto;
  position: absolute; top: 100%; left: 0;
  opacity: 0; visibility: hidden; transform: translateY(-10px);
  transition: opacity var(--motion-ms) var(--ease-smooth), visibility var(--motion-ms) var(--ease-smooth), transform var(--motion-ms) var(--ease-smooth);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
  z-index: 50; /* above search dropdown (40) */
}
/* Hover to expand list */
.filter-section:hover .filter-content,
.filter-section:has(.filter-content.visible) .filter-content {
  border-color: var(--ui-border); border-top-color: transparent; top: calc(100% - 1px);
  opacity: 1; visibility: visible; transform: translateY(0) ;
}

/* Pills grid + list containers */
.pills-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; padding: 12px; }
.pills-list { display: none; flex-direction: column; }
.pills-list .filter-dropdown-item { padding: 12px 16px; }
.pills-list.active { display: flex; }
.pills-grid.active { display: grid; }
.pills-grid:not(.active) { display: none; }

.filter-dropdown-item {
  padding: 12px 16px; cursor: pointer; transition: background var(--motion-ms) var(--ease-smooth);
  border-bottom: 1px solid rgba(217, 217, 217, 0.3); color: var(--ui-text); font-size: 14px;
}
.filter-dropdown-item:last-child { border-bottom: none; }
.filter-dropdown-item:hover { background: var(--ui-active-bg); }
.filter-dropdown-item.selected { background: rgba(162,230,51,0.1); }

.ui-btn{
  display:inline-flex; align-items:center; justify-content:center; height:36px; padding:0 20px;
  border-radius:999px; border:1px solid transparent; font-family:"Neue Haas Unica W1G", system-ui, sans-serif;
  font-size:14px; line-height:16px; font-weight:400; cursor:pointer;
  transition: background var(--motion-ms) var(--ease-smooth), border-color var(--motion-ms) var(--ease-smooth), color var(--motion-ms) var(--ease-smooth);
  width: 100%;
}
.ui-btn.pill[data-variant="b6"]{ background: var(--btn-white); border: 1px solid var(--btn-gray); color: #777; }
.ui-btn.pill[data-variant="b6"]:hover{ background: var(--btn-dark); border-color: var(--btn-dark); color: var(--btn-white); }
.ui-btn.pill[data-variant="b6"].active{ background: var(--btn-dark); border-color: var(--btn-dark); color: var(--btn-white); }

/* Linked borders (optional continuity) */
.search-section:has(.ui-search:focus-within) .filter-header,
.search-section:has(.ui-search:focus-within) .filter-content {
  border-left-color: var(--ui-border);
  border-right-color: var(--ui-border);
}
.search-section:has(.ui-search:focus-within) .filter-header { background: var(--btn-white); }
.search-section:has(.ui-search:focus-within) .filter-content.visible { border-top-color: transparent; top: calc(100% - 1px); }

/* Optional fallback class (if needed for :has()) */
.search-section.search-linking .filter-header,
.search-section.search-linking .filter-content { border-left-color: var(--ui-border); border-right-color: var(--ui-border); }
.search-section.search-linking .filter-header { background: var(--btn-white); }
.search-section.search-linking .filter-content.visible { border-top-color: transparent; top: calc(100% - 1px); }


